"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.find = exports.pattern = void 0;
const pattern = function (patt) {
    return new RegExp(patt, 'yd');
};
exports.pattern = pattern;
const find = function (subject, patt, startpos, endpos) {
    patt.lastIndex = startpos;
    let subj;
    if (endpos !== undefined) {
        subj = subject.substring(0, endpos + 1);
    }
    else {
        subj = subject;
    }
    const result = patt.exec(subj);
    if (result !== null) {
        let idx = 1;
        const capts = [];
        if (result.indices.length > 1) {
            for (let i = 1; i < result.indices.length; i++) {
                const [sp, ep] = result.indices[i];
                capts.push(subj.substring(sp, ep));
            }
        }
        return { startpos: result.indices[0][0],
            endpos: result.indices[0][1] - 1,
            captures: capts };
    }
    else {
        return null;
    }
};
exports.find = find;
